# Skip running lint-staged when committing from VS Code UI to avoid disruptive popups.
# VS Code sets VSCODE_GIT_IPC_HANDLE / VSCODE_GIT_ASKPASS_NODE / TERM_PROGRAM=vscode
if [ -n "$VSCODE_GIT_IPC_HANDLE" ] || [ -n "$VSCODE_GIT_ASKPASS_NODE" ] || [ "$TERM_PROGRAM" = "vscode" ]; then
  exit 0
fi

# Suppress interactive progress messages and stash step that can trigger GUI popups
npx --no-install lint-staged --quiet --no-stash --concurrent false
